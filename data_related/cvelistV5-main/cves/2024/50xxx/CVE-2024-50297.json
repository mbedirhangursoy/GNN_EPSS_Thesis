{
    "dataType": "CVE_RECORD",
    "dataVersion": "5.1",
    "cveMetadata": {
        "cveId": "CVE-2024-50297",
        "assignerOrgId": "416baaa9-dc9f-4396-8d5f-8c081fb06d67",
        "state": "PUBLISHED",
        "assignerShortName": "Linux",
        "dateReserved": "2024-10-21T19:36:19.986Z",
        "datePublished": "2024-11-19T01:30:44.680Z",
        "dateUpdated": "2024-12-19T09:37:40.179Z"
    },
    "containers": {
        "cna": {
            "providerMetadata": {
                "orgId": "416baaa9-dc9f-4396-8d5f-8c081fb06d67",
                "shortName": "Linux",
                "dateUpdated": "2024-12-19T09:37:40.179Z"
            },
            "descriptions": [
                {
                    "lang": "en",
                    "value": "In the Linux kernel, the following vulnerability has been resolved:\n\nnet: xilinx: axienet: Enqueue Tx packets in dql before dmaengine starts\n\nEnqueue packets in dql after dma engine starts causes race condition.\nTx transfer starts once dma engine is started and may execute dql dequeue\nin completion before it gets queued. It results in following kernel crash\nwhile running iperf stress test:\n\nkernel BUG at lib/dynamic_queue_limits.c:99!\n<snip>\nInternal error: Oops - BUG: 00000000f2000800 [#1] SMP\npc : dql_completed+0x238/0x248\nlr : dql_completed+0x3c/0x248\n\nCall trace:\n  dql_completed+0x238/0x248\n  axienet_dma_tx_cb+0xa0/0x170\n  xilinx_dma_do_tasklet+0xdc/0x290\n  tasklet_action_common+0xf8/0x11c\n  tasklet_action+0x30/0x3c\n  handle_softirqs+0xf8/0x230\n<snip>\n\nStart dmaengine after enqueue in dql fixes the crash."
                }
            ],
            "affected": [
                {
                    "product": "Linux",
                    "vendor": "Linux",
                    "defaultStatus": "unaffected",
                    "repo": "https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux.git",
                    "programFiles": [
                        "drivers/net/ethernet/xilinx/xilinx_axienet_main.c"
                    ],
                    "versions": [
                        {
                            "version": "6a91b846af85a24241decd686269e8e038eb13d1",
                            "lessThan": "def3dee25cbd1c9b2ed443c3f6180e952563de77",
                            "status": "affected",
                            "versionType": "git"
                        },
                        {
                            "version": "6a91b846af85a24241decd686269e8e038eb13d1",
                            "lessThan": "5ccdcdf186aec6b9111845fd37e1757e9b413e2f",
                            "status": "affected",
                            "versionType": "git"
                        }
                    ]
                },
                {
                    "product": "Linux",
                    "vendor": "Linux",
                    "defaultStatus": "affected",
                    "repo": "https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux.git",
                    "programFiles": [
                        "drivers/net/ethernet/xilinx/xilinx_axienet_main.c"
                    ],
                    "versions": [
                        {
                            "version": "6.8",
                            "status": "affected"
                        },
                        {
                            "version": "0",
                            "lessThan": "6.8",
                            "status": "unaffected",
                            "versionType": "semver"
                        },
                        {
                            "version": "6.11.8",
                            "lessThanOrEqual": "6.11.*",
                            "status": "unaffected",
                            "versionType": "semver"
                        },
                        {
                            "version": "6.12",
                            "lessThanOrEqual": "*",
                            "status": "unaffected",
                            "versionType": "original_commit_for_fix"
                        }
                    ]
                }
            ],
            "references": [
                {
                    "url": "https://git.kernel.org/stable/c/def3dee25cbd1c9b2ed443c3f6180e952563de77"
                },
                {
                    "url": "https://git.kernel.org/stable/c/5ccdcdf186aec6b9111845fd37e1757e9b413e2f"
                }
            ],
            "title": "net: xilinx: axienet: Enqueue Tx packets in dql before dmaengine starts",
            "x_generator": {
                "engine": "bippy-5f407fcff5a0"
            }
        }
    }
}